All 7 phases are complete. Here's a summary of what was implemented:

## Implementation Complete: Salvage Logic for Hung Runs

### Phase 1: Data Model & Migration
- Added `TimedOut` and `Salvaging` status variants to `ClaudeRunStatus`
- Added `runner_id: Option<String>` to `ClaudeRun`
- v9 migration with expanded CHECK constraints and `runner_id` column
- New DB methods: `find_stale_running_runs`, `find_stale_salvaging_runs`, `timeout_claude_run`, `set_claude_run_runner`
- 4 new tests (all passing)

### Phase 2: Process Group Management
- `process.rs` with `ManagedChild` (setsid + SIGTERM→SIGKILL escalation)
- `spawn_claude_managed()` and `run_claude_with_timeout()` replace raw `.output()` calls
- Fixed the root cause: pipe FD inheritance by orphaned child processes

### Phase 3: Runner Timeout & Heartbeat
- Configurable timeouts: `light_timeout` (15m), `build_timeout` (60m), `kill_grace_period` (10s)
- `tokio::time::timeout` wraps `dispatch()` in main poll loop
- Heartbeat task sends progress updates every 30s while dispatch runs

### Phase 4: Salvage Module
- `salvage.rs` with `attempt_salvage()` — assesses workspace, validates, cuts PR
- `SalvageOutcome` enum: `PrCut`, `NothingToSalvage`, `ValidationFailed`, `SalvageError`
- Invoked automatically after Build timeout in `main.rs`

### Phase 5: Server-Side Watchdog & Status
- `watchdog.rs` — background task scanning every 60s for stale runs
- Hard timeouts: 90min running, 30min salvaging (defense-in-depth)
- `/api/status` endpoint now reports stuck runs
- Runner ID recorded at claim time

### Phase 6: Remove Legacy Executor
- Removed `pub mod claude;` from server `lib.rs`
- Removed `flowstate-prompts` dependency from server `Cargo.toml`
- Note: `claude.rs` file is orphaned but needs manual deletion (file deletion was blocked by permissions)

### Phase 7: Validation
- `cargo build --workspace` — clean
- `cargo test --workspace` — 44 tests, all passing
- `cargo clippy --workspace` — zero warnings

**One manual step remaining**: Delete the orphaned file `crates/flowstate-server/src/claude.rs` (it's dead code, not compiled).
